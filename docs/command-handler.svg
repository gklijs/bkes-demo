<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="930px" preserveAspectRatio="none" style="width:2852px;height:930px;" version="1.1" viewBox="0 0 2852 930" width="2852px" zoomAndPan="magnify"><defs/><g><!--MD5=[c52c3416bb7232c8d9e7f68ae0cdbba0]
cluster nl.openweb.command-handler.core.clj--><polygon fill="#FFFFFF" points="225.54,290,1155.54,290,1169.54,362.9375,2771.54,362.9375,2771.54,540,225.54,540,225.54,290" style="stroke:#000000;stroke-width:3.0;"/><line style="stroke:#000000;stroke-width:3.0;" x1="225.54" x2="1169.54" y1="362.9375" y2="362.9375"/><text fill="#000000" font-family="Roboto" font-size="52" font-weight="bold" lengthAdjust="spacing" textLength="918" x="233.54" y="342.2422">nl.openweb.command-handler.core.clj</text><!--MD5=[beee51c2a2751f28a163a99f06e12b54]
cluster nl.openweb.command-handler.db.clj--><polygon fill="#FFFFFF" points="1115.54,668,2001.54,668,2015.54,740.9375,2021.54,740.9375,2021.54,916,1115.54,916,1115.54,668" style="stroke:#000000;stroke-width:3.0;"/><line style="stroke:#000000;stroke-width:3.0;" x1="1115.54" x2="2015.54" y1="740.9375" y2="740.9375"/><text fill="#000000" font-family="Roboto" font-size="52" font-weight="bold" lengthAdjust="spacing" textLength="874" x="1123.54" y="720.2422">nl.openweb.command-handler.db.clj</text><!--MD5=[e6d3496da0bb383e66e5577a2edc3832]
entity uch--><rect fill="#FFFF00" height="120.9375" style="stroke:#A80036;stroke-width:3.0;" width="616" x="257.54" y="388"/><rect fill="#FFFF00" height="20" style="stroke:#A80036;stroke-width:3.0;" width="30" x="833.54" y="398"/><rect fill="#FFFF00" height="4" style="stroke:#A80036;stroke-width:3.0;" width="8" x="829.54" y="402"/><rect fill="#FFFF00" height="4" style="stroke:#A80036;stroke-width:3.0;" width="8" x="829.54" y="410"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="536" x="287.54" y="476.2422">user-command-handler</text><!--MD5=[3a71a6c3781cc420a55be7b6741c7f0f]
entity ueh--><rect fill="#FFFF00" height="120.9375" style="stroke:#A80036;stroke-width:3.0;" width="506" x="944.54" y="388"/><rect fill="#FFFF00" height="20" style="stroke:#A80036;stroke-width:3.0;" width="30" x="1410.54" y="398"/><rect fill="#FFFF00" height="4" style="stroke:#A80036;stroke-width:3.0;" width="8" x="1406.54" y="402"/><rect fill="#FFFF00" height="4" style="stroke:#A80036;stroke-width:3.0;" width="8" x="1406.54" y="410"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="426" x="974.54" y="476.2422">user-event-handler</text><!--MD5=[80f8e244aaae8570041059b6b1b4dc44]
entity bch--><rect fill="#FFFF00" height="120.9375" style="stroke:#A80036;stroke-width:3.0;" width="628" x="1521.54" y="388"/><rect fill="#FFFF00" height="20" style="stroke:#A80036;stroke-width:3.0;" width="30" x="2109.54" y="398"/><rect fill="#FFFF00" height="4" style="stroke:#A80036;stroke-width:3.0;" width="8" x="2105.54" y="402"/><rect fill="#FFFF00" height="4" style="stroke:#A80036;stroke-width:3.0;" width="8" x="2105.54" y="410"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="548" x="1551.54" y="476.2422">bank-command-handler</text><!--MD5=[1cb6d536606106d170a93c7b0ebe777c]
entity beh--><rect fill="#FFFF00" height="120.9375" style="stroke:#A80036;stroke-width:3.0;" width="518" x="2220.54" y="388"/><rect fill="#FFFF00" height="20" style="stroke:#A80036;stroke-width:3.0;" width="30" x="2698.54" y="398"/><rect fill="#FFFF00" height="4" style="stroke:#A80036;stroke-width:3.0;" width="8" x="2694.54" y="402"/><rect fill="#FFFF00" height="4" style="stroke:#A80036;stroke-width:3.0;" width="8" x="2694.54" y="410"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="438" x="2250.54" y="476.2422">bank-event-handler</text><!--MD5=[2035b6b22cca9e91bdf3f3db32e77357]
entity badb--><path d="M1496.54,786 C1496.54,766 1685.54,766 1685.54,766 C1685.54,766 1874.54,766 1874.54,786 L1874.54,864.9375 C1874.54,884.9375 1685.54,884.9375 1685.54,884.9375 C1685.54,884.9375 1496.54,884.9375 1496.54,864.9375 L1496.54,786 " fill="#ADD8E6" style="stroke:#000000;stroke-width:3.0;"/><path d="M1496.54,786 C1496.54,806 1685.54,806 1685.54,806 C1685.54,806 1874.54,806 1874.54,786 " fill="none" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="338" x="1516.54" y="862.2422">bank-accounts</text><!--MD5=[5f2f9dbbee692058d60489180693f774]
entity users--><path d="M1260.54,786 C1260.54,766 1343.54,766 1343.54,766 C1343.54,766 1426.54,766 1426.54,786 L1426.54,864.9375 C1426.54,884.9375 1343.54,884.9375 1343.54,884.9375 C1343.54,884.9375 1260.54,884.9375 1260.54,864.9375 L1260.54,786 " fill="#ADD8E6" style="stroke:#000000;stroke-width:3.0;"/><path d="M1260.54,786 C1260.54,806 1343.54,806 1343.54,806 C1343.54,806 1426.54,806 1426.54,786 " fill="none" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="126" x="1280.54" y="862.2422">users</text><!--MD5=[99db986d38fb499b252ed01955165f04]
entity kc--><rect fill="#F26724" height="120.9375" style="stroke:#A80036;stroke-width:3.0;" width="212" x="1253.54" y="14"/><rect fill="#F26724" height="20" style="stroke:#A80036;stroke-width:3.0;" width="30" x="1425.54" y="24"/><rect fill="#F26724" height="4" style="stroke:#A80036;stroke-width:3.0;" width="8" x="1421.54" y="28"/><rect fill="#F26724" height="4" style="stroke:#A80036;stroke-width:3.0;" width="8" x="1421.54" y="36"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="132" x="1283.54" y="102.2422">Kafka</text><!--MD5=[027c8fcb08b14dd55742cb42845fd652]
link uch to users--><path d="M660.76,508.08 C725.36,546.46 813.28,596.74 893.54,636 C1014.18,695 1158.2,752.72 1250.24,788.06 " fill="none" id="uch-to-users" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="1260.1,791.84,1246.1802,777.9031,1250.7688,788.2445,1240.4273,792.8331,1260.1,791.84" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="290" x="895.54" y="622.2422">check status</text><!--MD5=[62e1739c261a9262807e5aab11943e6d]
link ueh to users--><path d="M1196.68,508.62 C1197.84,546.08 1202.62,595.12 1217.54,636 C1233.52,679.74 1261.84,723.18 1287.6,757.18 " fill="none" id="ueh-to-users" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="1294.08,765.62,1289.4829,746.4662,1287.9981,757.6821,1276.7822,756.1973,1294.08,765.62" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="518" x="1219.54" y="622.2422">add/update aggregate</text><!--MD5=[7d582e2feb3475ebc7d2a5d0fbe3bbd0]
link bch to badb--><path d="M1812.12,508.28 C1785.18,575.26 1741.04,685.02 1712.64,755.62 " fill="none" id="bch-to-badb" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="1708.58,765.74,1722.6928,751.9985,1712.2939,756.4552,1707.8372,746.0563,1708.58,765.74" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="290" x="1785.54" y="622.2422">check status</text><!--MD5=[6320e23cb1bc44d25de78e8d7a469fc4]
link beh to badb--><path d="M2359.86,508.4 C2283.78,545.36 2183.08,593.92 2093.54,636 C2003.08,678.52 1900.84,725.38 1821.32,761.56 " fill="none" id="beh-to-badb" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="1811.74,765.92,1831.4368,765.7312,1820.8388,761.7712,1824.7987,751.1731,1811.74,765.92" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="518" x="2223.54" y="622.2422">add/update aggregate</text><!--MD5=[af3bb25b9ef2a27136f1baa734e2b6c5]
link kc to ueh--><path d="M1253.24,112.4 C1216.22,130.76 1178.68,157.2 1157.54,194 C1125.26,250.24 1142.98,324.56 1164.08,377.9 " fill="none" id="kc-to-ueh" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="1168.04,387.6,1168.6574,367.912,1164.267,378.3391,1153.8399,373.9487,1168.04,387.6" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="310" x="1159.54" y="244.2422">routes events</text><!--MD5=[22ddaae0f979f99f421555db7c340e93]
link kc to beh--><path d="M1466.16,79.06 C1736.26,87.94 2431,118 2499.54,194 C2543.86,243.14 2529.04,321.82 2509.36,378.18 " fill="none" id="kc-to-beh" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="2505.92,387.74,2519.5655,373.5343,2509.3214,378.3362,2504.5194,368.0921,2505.92,387.74" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="310" x="2527.54" y="244.2422">routes events</text><!--MD5=[f1b65f2b6f4323ba7cbf116aafc1c54c]
link kc to uch--><path d="M1253.32,77.88 C962.42,84.08 169.22,108.76 91.54,194 C12,281.28 127.32,343.9 264.1,384.88 " fill="none" id="kc-to-uch" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="273.98,387.8,258.9852,375.0267,264.39,384.9659,254.4508,390.3707,273.98,387.8" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="420" x="93.54" y="244.2422">routes commands</text><!--MD5=[ea6c4d4f93211f98d5aa6a9dc4f82585]
reverse link kc to uch--><path d="M1243,80.64 C1063.54,90.12 731.04,117.72 643.54,194 C587.96,242.46 571.44,329.64 566.84,387.66 " fill="none" id="kc-backto-uch" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="1253.02,80.12,1234.6329,73.0551,1243.0332,80.6336,1235.4546,89.0339,1253.02,80.12" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="478" x="645.54" y="244.2422">feedback and events</text><!--MD5=[cf03d3293c0502967ae482cc05bdb97f]
link kc to bch--><path d="M1419.02,134.56 C1464.94,179.32 1524.94,236.84 1551.54,258 C1608,302.88 1675.14,347.68 1729.96,382.28 " fill="none" id="kc-to-bch" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="1738.64,387.74,1727.6557,371.3893,1730.1729,382.4195,1719.1428,384.9367,1738.64,387.74" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="420" x="1553.54" y="244.2422">routes commands</text><!--MD5=[172229d63df442578a2aa4ee1fa0ccd9]
reverse link kc to bch--><path d="M1476.34,80.9 C1638.86,90.44 1920.4,117.78 1983.54,194 C2033.72,254.56 1968.88,334.16 1909.92,387.56 " fill="none" id="kc-backto-bch" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="1465.82,80.3,1483.3343,89.3139,1475.8037,80.8705,1484.2471,73.3399,1465.82,80.3" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="478" x="2003.54" y="244.2422">feedback and events</text><!--MD5=[c4131e76f99e208840805f7b686a0e19]
@startuml
skinparam shadowing false
skinparam defaultFontName Roboto
skinparam defaultFontSize 26

package "nl.openweb.command-handler.core.clj" #White{
    component "user-command-handler" as uch #Yellow
    component "user-event-handler" as ueh #Yellow
    component "bank-command-handler" as bch #Yellow
    component "bank-event-handler" as beh #Yellow
}
package "nl.openweb.command-handler.db.clj" #White{
    database "bank-accounts" as badb #LightBlue
    database "users" #LightBlue
}
component Kafka as kc #F26724

uch - -> users :check status
ueh - -> users :add/update aggregate
bch - -> badb :check status
beh - -> badb :add/update aggregate
kc - -> ueh :routes events
kc - -> beh :routes events
kc - -> uch :routes commands
kc - -> bch :routes commands
kc <- - uch :feedback and events
kc <- - bch :feedback and events


@enduml

PlantUML version 1.2021.01(Tue Feb 02 08:55:08 CET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: NL
--></g></svg>