<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="662.4px" preserveAspectRatio="none" style="width:1261px;height:662px;" version="1.1" viewBox="0 0 1261 662" width="1261.2px" zoomAndPan="magnify"><defs/><g><!--MD5=[b1bb34d5f6a5f9f0e50b702338f741d1]
entity cb--><rect fill="#FFFF00" height="72.5625" style="stroke:#A80036;stroke-width:1.7999999999999998;" width="248.4" x="763.2" y="364.6172"/><rect fill="#FFFF00" height="12" style="stroke:#A80036;stroke-width:1.7999999999999998;" width="18" x="987.6" y="370.6172"/><rect fill="#FFFF00" height="2.4" style="stroke:#A80036;stroke-width:1.7999999999999998;" width="4.8" x="985.2" y="373.0172"/><rect fill="#FFFF00" height="2.4" style="stroke:#A80036;stroke-width:1.7999999999999998;" width="4.8" x="985.2" y="377.8172"/><text fill="#000000" font-family="Roboto" font-size="31.2" lengthAdjust="spacing" textLength="200.4" x="781.2" y="417.5625">command-bus</text><!--MD5=[99db986d38fb499b252ed01955165f04]
entity kc--><rect fill="#D3D3D3" height="72.5625" style="stroke:#A80036;stroke-width:1.7999999999999998;" width="123.6" x="825.6" y="583.0172"/><rect fill="#D3D3D3" height="12" style="stroke:#A80036;stroke-width:1.7999999999999998;" width="18" x="925.2" y="589.0172"/><rect fill="#D3D3D3" height="2.4" style="stroke:#A80036;stroke-width:1.7999999999999998;" width="4.8" x="922.8" y="591.4172"/><rect fill="#D3D3D3" height="2.4" style="stroke:#A80036;stroke-width:1.7999999999999998;" width="4.8" x="922.8" y="596.2172"/><text fill="#000000" font-family="Roboto" font-size="31.2" lengthAdjust="spacing" textLength="75.6" x="843.6" y="635.9625">kafka</text><!--MD5=[979c31051cf8d07bdf927ed864b836ec]
entity cl--><ellipse cx="315" cy="46.0172" fill="#FFFFFF" rx="9.6" ry="9.6" style="stroke:#A80036;stroke-width:1.7999999999999998;"/><path d="M315,55.6172 L315,88.0172 M299.4,65.2172 L330.6,65.2172 M315,88.0172 L299.4,106.0172 M315,88.0172 L330.6,106.0172 " fill="none" style="stroke:#A80036;stroke-width:1.7999999999999998;"/><text fill="#000000" font-family="Roboto" font-size="31.2" lengthAdjust="spacing" textLength="74.4" x="277.8" y="137.9625">client</text><!--MD5=[694f580618a8ff0a20e3fd904d058a88]
entity sp--><rect fill="#FFFF00" height="72.5625" style="stroke:#A80036;stroke-width:1.7999999999999998;" width="282" x="746.4" y="53.8172"/><rect fill="#FFFF00" height="12" style="stroke:#A80036;stroke-width:1.7999999999999998;" width="18" x="1004.4" y="59.8172"/><rect fill="#FFFF00" height="2.4" style="stroke:#A80036;stroke-width:1.7999999999999998;" width="4.8" x="1002" y="62.2172"/><rect fill="#FFFF00" height="2.4" style="stroke:#A80036;stroke-width:1.7999999999999998;" width="4.8" x="1002" y="67.0172"/><text fill="#000000" font-family="Roboto" font-size="31.2" lengthAdjust="spacing" textLength="234" x="764.4" y="106.7625">schema-provider</text><!--MD5=[6377be883f12643b62e189b60fe92e84]
entity ch--><rect fill="#FFFFFF" height="60.5625" style="stroke:#000000;stroke-width:1.7999999999999998;" width="277.2" x="8.4" y="589.0172"/><text fill="#000000" font-family="Roboto" font-size="31.2" lengthAdjust="spacing" textLength="253.2" x="20.4" y="629.9625">command-handler</text><!--MD5=[ce416eb35adc1d8056c0af1bbec5e02c]
link cl to sp--><path d="M358.74,89.8172 C439.02,89.8172 613.272,89.8172 739.836,89.8172 " fill="none" id="cl-sp" style="stroke:#A80036;stroke-width:1.2;"/><polygon fill="#A80036" points="746.208,89.8172,735.408,85.0172,740.208,89.8172,735.408,94.6172,746.208,89.8172" style="stroke:#A80036;stroke-width:1.2;"/><polygon fill="#A80036" points="352.56,89.8172,363.36,94.6172,358.56,89.8172,363.36,85.0172,352.56,89.8172" style="stroke:#A80036;stroke-width:1.2;"/><text fill="#000000" font-family="Roboto" font-size="31.2" lengthAdjust="spacing" textLength="340.8" x="378.9" y="41.9625">request transfer by using</text><text fill="#000000" font-family="Roboto" font-size="31.2" lengthAdjust="spacing" textLength="276" x="378.9" y="78.525">a GraphQL mutation</text><!--MD5=[f331b4fcee3befa7b35fa98b9e8c96fb]
link sp to cb--><path d="M887.4,126.3932 C887.4,183.9092 887.4,297.3812 887.4,358.3652 " fill="none" id="sp-to-cb" style="stroke:#A80036;stroke-width:1.2;"/><polygon fill="#A80036" points="887.4,364.4492,892.2,353.6492,887.4,358.4492,882.6,353.6492,887.4,364.4492" style="stroke:#A80036;stroke-width:1.2;"/><text fill="#000000" font-family="Roboto" font-size="31.2" lengthAdjust="spacing" textLength="244.8" x="948" y="211.1625">executes function</text><text fill="#000000" font-family="Roboto" font-size="31.2" lengthAdjust="spacing" textLength="174" x="983.4" y="247.725">resulting in a</text><text fill="#000000" font-family="Roboto" font-size="31.2" lengthAdjust="spacing" textLength="356.4" x="895.8" y="284.2875">MoneyTransferCommand</text><text fill="#000000" font-family="Roboto" font-size="31.2" lengthAdjust="spacing" textLength="283.2" x="928.8" y="320.85">and awaits the result</text><!--MD5=[c6199938c050830569718a53452a9416]
link cb to kc--><path d="M887.4,443.3252 C887.4,481.6652 887.4,538.3052 887.4,576.5612 " fill="none" id="cb-kc" style="stroke:#A80036;stroke-width:1.2;"/><polygon fill="#A80036" points="887.4,583.0052,892.2,572.2052,887.4,577.0052,882.6,572.2052,887.4,583.0052" style="stroke:#A80036;stroke-width:1.2;"/><polygon fill="#A80036" points="887.4,437.0012,882.6,447.8012,887.4,443.0012,892.2,447.8012,887.4,437.0012" style="stroke:#A80036;stroke-width:1.2;"/><text fill="#000000" font-family="Roboto" font-size="31.2" lengthAdjust="spacing" textLength="231.6" x="899.4" y="502.7625">send commands</text><text fill="#000000" font-family="Roboto" font-size="31.2" lengthAdjust="spacing" textLength="253.2" x="888.6" y="539.325">receives feedback</text><!--MD5=[e02f2a9ec44e80b5a132599cdba84463]
link ch to kc--><path d="M292.032,619.0172 C451.188,619.0172 699.864,619.0172 819.12,619.0172 " fill="none" id="ch-kc" style="stroke:#A80036;stroke-width:1.2;"/><polygon fill="#A80036" points="825.396,619.0172,814.596,614.2172,819.396,619.0172,814.596,623.8172,825.396,619.0172" style="stroke:#A80036;stroke-width:1.2;"/><polygon fill="#A80036" points="285.828,619.0172,296.628,623.8172,291.828,619.0172,296.628,614.2172,285.828,619.0172" style="stroke:#A80036;stroke-width:1.2;"/><text fill="#000000" font-family="Roboto" font-size="31.2" lengthAdjust="spacing" textLength="232.8" x="439.2" y="497.9625">handles the saga</text><text fill="#000000" font-family="Roboto" font-size="31.2" lengthAdjust="spacing" textLength="193.2" x="459" y="534.525">will end with a</text><text fill="#000000" font-family="Roboto" font-size="31.2" lengthAdjust="spacing" textLength="486" x="312.6" y="571.0875">MarkTransferCompletedCommand</text><text fill="#000000" font-family="Roboto" font-size="31.2" lengthAdjust="spacing" textLength="452.4" x="329.4" y="607.65">or MarkTransferFailedCommand</text><!--MD5=[a05240729bae8939d536ca276bcbfb4a]
@startuml
skinparam shadowing false
skinparam defaultFontName Roboto
skinparam defaultFontSize 26

component "command-bus" as cb #Yellow
component kafka as kc #LightGrey
actor client as cl #White
component "schema-provider" as sp #Yellow
rectangle "command-handler" as ch #White

cl <-right-> sp :request transfer by using\la GraphQL mutation
sp - -> cb :executes function\nresulting in a\n MoneyTransferCommand\nand awaits the result
cb <- -> kc: send commands\nreceives feedback
ch <-right-> kc :handles the saga\nwill end with a\nMarkTransferCompletedCommand\nor MarkTransferFailedCommand

@enduml

PlantUML version 1.2021.01(Tue Feb 02 08:55:08 CET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: NL
--></g></svg>