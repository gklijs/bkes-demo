<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="930px" preserveAspectRatio="none" style="width:2600px;height:930px;" version="1.1" viewBox="0 0 2600 930" width="2600px" zoomAndPan="magnify"><defs/><g><!--MD5=[9597586410e9f91638094794d214694a]
cluster nl.openweb.projector.core.clj--><polygon fill="#FFFFFF" points="32,290,740,290,754,362.9375,2362,362.9375,2362,540,32,540,32,290" style="stroke:#000000;stroke-width:3.0;"/><line style="stroke:#000000;stroke-width:3.0;" x1="32" x2="754" y1="362.9375" y2="362.9375"/><text fill="#000000" font-family="Roboto" font-size="52" font-weight="bold" lengthAdjust="spacing" textLength="696" x="40" y="342.2422">nl.openweb.projector.core.clj</text><!--MD5=[e4481f5e45652231a255ed133c491766]
cluster nl.openweb.projector.db.clj--><polygon fill="#FFFFFF" points="898,668,1562,668,1576,740.9375,1582,740.9375,1582,916,898,916,898,668" style="stroke:#000000;stroke-width:3.0;"/><line style="stroke:#000000;stroke-width:3.0;" x1="898" x2="1576" y1="740.9375" y2="740.9375"/><text fill="#000000" font-family="Roboto" font-size="52" font-weight="bold" lengthAdjust="spacing" textLength="652" x="906" y="720.2422">nl.openweb.projector.db.clj</text><!--MD5=[e6d3496da0bb383e66e5577a2edc3832]
entity uch--><rect fill="#FFFF00" height="120.9375" style="stroke:#A80036;stroke-width:3.0;" width="508" x="64" y="388"/><rect fill="#FFFF00" height="20" style="stroke:#A80036;stroke-width:3.0;" width="30" x="532" y="398"/><rect fill="#FFFF00" height="4" style="stroke:#A80036;stroke-width:3.0;" width="8" x="528" y="402"/><rect fill="#FFFF00" height="4" style="stroke:#A80036;stroke-width:3.0;" width="8" x="528" y="410"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="428" x="94" y="476.2422">user-query-handler</text><!--MD5=[3a71a6c3781cc420a55be7b6741c7f0f]
entity ueh--><rect fill="#FFFF00" height="120.9375" style="stroke:#A80036;stroke-width:3.0;" width="506" x="643" y="388"/><rect fill="#FFFF00" height="20" style="stroke:#A80036;stroke-width:3.0;" width="30" x="1109" y="398"/><rect fill="#FFFF00" height="4" style="stroke:#A80036;stroke-width:3.0;" width="8" x="1105" y="402"/><rect fill="#FFFF00" height="4" style="stroke:#A80036;stroke-width:3.0;" width="8" x="1105" y="410"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="426" x="673" y="476.2422">user-event-handler</text><!--MD5=[80f8e244aaae8570041059b6b1b4dc44]
entity bch--><rect fill="#FFFF00" height="120.9375" style="stroke:#A80036;stroke-width:3.0;" width="520" x="1220" y="388"/><rect fill="#FFFF00" height="20" style="stroke:#A80036;stroke-width:3.0;" width="30" x="1700" y="398"/><rect fill="#FFFF00" height="4" style="stroke:#A80036;stroke-width:3.0;" width="8" x="1696" y="402"/><rect fill="#FFFF00" height="4" style="stroke:#A80036;stroke-width:3.0;" width="8" x="1696" y="410"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="440" x="1250" y="476.2422">bank-query-handler</text><!--MD5=[1cb6d536606106d170a93c7b0ebe777c]
entity beh--><rect fill="#FFFF00" height="120.9375" style="stroke:#A80036;stroke-width:3.0;" width="518" x="1811" y="388"/><rect fill="#FFFF00" height="20" style="stroke:#A80036;stroke-width:3.0;" width="30" x="2289" y="398"/><rect fill="#FFFF00" height="4" style="stroke:#A80036;stroke-width:3.0;" width="8" x="2285" y="402"/><rect fill="#FFFF00" height="4" style="stroke:#A80036;stroke-width:3.0;" width="8" x="2285" y="410"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="438" x="1841" y="476.2422">bank-event-handler</text><!--MD5=[2035b6b22cca9e91bdf3f3db32e77357]
entity badb--><path d="M1169,786 C1169,766 1358,766 1358,766 C1358,766 1547,766 1547,786 L1547,864.9375 C1547,884.9375 1358,884.9375 1358,884.9375 C1358,884.9375 1169,884.9375 1169,864.9375 L1169,786 " fill="#ADD8E6" style="stroke:#000000;stroke-width:3.0;"/><path d="M1169,786 C1169,806 1358,806 1358,806 C1358,806 1547,806 1547,786 " fill="none" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="338" x="1189" y="862.2422">bank-accounts</text><!--MD5=[5f2f9dbbee692058d60489180693f774]
entity users--><path d="M933,786 C933,766 1016,766 1016,766 C1016,766 1099,766 1099,786 L1099,864.9375 C1099,884.9375 1016,884.9375 1016,884.9375 C1016,884.9375 933,884.9375 933,864.9375 L933,786 " fill="#ADD8E6" style="stroke:#000000;stroke-width:3.0;"/><path d="M933,786 C933,806 1016,806 1016,806 C1016,806 1099,806 1099,786 " fill="none" style="stroke:#000000;stroke-width:3.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="126" x="953" y="862.2422">users</text><!--MD5=[99db986d38fb499b252ed01955165f04]
entity kc--><rect fill="#F26724" height="120.9375" style="stroke:#A80036;stroke-width:3.0;" width="212" x="1184" y="14"/><rect fill="#F26724" height="20" style="stroke:#A80036;stroke-width:3.0;" width="30" x="1356" y="24"/><rect fill="#F26724" height="4" style="stroke:#A80036;stroke-width:3.0;" width="8" x="1352" y="28"/><rect fill="#F26724" height="4" style="stroke:#A80036;stroke-width:3.0;" width="8" x="1352" y="36"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="132" x="1214" y="102.2422">Kafka</text><!--MD5=[027c8fcb08b14dd55742cb42845fd652]
link uch to users--><path d="M385.22,508.3 C432.92,547.74 499.64,599.16 564,636 C681.94,703.5 829.02,759.68 922.74,792.3 " fill="none" id="uch-to-users" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="932.2,795.58,917.7862,782.1546,922.7451,792.3236,912.576,797.2825,932.2,795.58" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="290" x="566" y="622.2422">check status</text><!--MD5=[62e1739c261a9262807e5aab11943e6d]
link ueh to users--><path d="M880.44,508.32 C873.18,545.66 868.72,594.68 882,636 C896.3,680.52 925.56,723.44 953.08,756.9 " fill="none" id="ueh-to-users" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="960.04,765.2,954.6279,746.2604,953.6241,757.5295,942.355,756.5258,960.04,765.2" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="514" x="884" y="622.2422">add/update projection</text><!--MD5=[7d582e2feb3475ebc7d2a5d0fbe3bbd0]
link bch to badb--><path d="M1460.94,508.28 C1439.02,575.26 1403.12,685.02 1380.04,755.62 " fill="none" id="bch-to-badb" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="1376.72,765.74,1389.9356,751.1336,1379.8393,756.239,1374.7339,746.1427,1376.72,765.74" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="290" x="1440" y="622.2422">check status</text><!--MD5=[6320e23cb1bc44d25de78e8d7a469fc4]
link beh to badb--><path d="M1973.86,508.12 C1910.42,545.84 1825.08,595.34 1748,636 C1664.4,680.1 1568.72,726.06 1493.04,761.36 " fill="none" id="beh-to-badb" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="1483.92,765.62,1503.6143,765.2541,1492.9811,761.3896,1496.8456,750.7564,1483.92,765.62" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="514" x="1858" y="622.2422">add/update projection</text><!--MD5=[af3bb25b9ef2a27136f1baa734e2b6c5]
link kc to ueh--><path d="M1183.74,83.94 C1105.36,95.62 1002.24,124.22 942,194 C898.5,244.38 890.14,322 890.7,377.78 " fill="none" id="kc-to-ueh" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="890.9,387.94,898.5385,369.7836,890.7,377.942,882.5417,370.1036,890.9,387.94" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="310" x="944" y="244.2422">routes events</text><!--MD5=[22ddaae0f979f99f421555db7c340e93]
link kc to beh--><path d="M1396.54,75.54 C1520.64,79.72 1727.54,101.6 1876,194 C1947.86,238.72 2003.22,320.24 2036.08,378.46 " fill="none" id="kc-to-beh" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="2041.16,387.6,2039.4117,367.98,2036.3036,378.8584,2025.4252,375.7503,2041.16,387.6" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="310" x="1952" y="244.2422">routes events</text><!--MD5=[9ee18caf858ac6a8204e39a7e45cae1b]
link beh to kc--><path d="M2173.5,387.58 C2252.1,335.94 2337.66,258.94 2280,194 C2222.82,129.6 1656.36,94.02 1406.92,81.36 " fill="none" id="beh-to-kc" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="1396.72,80.86,1414.3107,89.7238,1406.7082,81.3451,1415.0869,73.7427,1396.72,80.86" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="284" x="2300" y="244.2422">transactions</text><!--MD5=[f1b65f2b6f4323ba7cbf116aafc1c54c]
link kc to uch--><path d="M1183.1,79.38 C917.58,88.86 244.54,120.02 178,194 C127.86,249.74 184.32,326.5 239.8,380.62 " fill="none" id="kc-to-uch" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="247.26,387.78,239.8183,369.5421,240.0473,380.8535,228.7359,381.0825,247.26,387.78" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="328" x="180" y="244.2422">routes queries</text><!--MD5=[ea6c4d4f93211f98d5aa6a9dc4f82585]
reverse link kc to uch--><path d="M1173.04,83.58 C1045.86,95.14 838.68,123.86 674,194 C561.48,241.92 449.26,329.66 381.72,387.92 " fill="none" id="kc-backto-uch" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="1183.58,82.64,1164.9412,76.2687,1173.6194,83.5273,1166.3608,92.2056,1183.58,82.64" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="216" x="676" y="244.2422">feedback</text><!--MD5=[cf03d3293c0502967ae482cc05bdb97f]
link kc to bch--><path d="M1275.88,134.06 C1269.8,171 1267.38,219.04 1284,258 C1304.72,306.58 1344.84,348.66 1383.42,380.6 " fill="none" id="kc-to-bch" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="1392.12,387.68,1383.1874,370.1241,1384.3562,381.3773,1373.1031,382.5462,1392.12,387.68" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="328" x="1286" y="244.2422">routes queries</text><!--MD5=[172229d63df442578a2aa4ee1fa0ccd9]
reverse link kc to bch--><path d="M1406.54,83.98 C1482.02,95.92 1575.06,124.8 1624,194 C1668.66,257.14 1608,335.18 1552.24,387.52 " fill="none" id="kc-backto-bch" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="1396.48,82.48,1413.0911,93.0663,1406.3689,83.9662,1415.4691,77.244,1396.48,82.48" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacing" textLength="216" x="1642" y="244.2422">feedback</text><!--MD5=[485e58efef3739059d261dd036232fcf]
@startuml
skinparam shadowing false
skinparam defaultFontName Roboto
skinparam defaultFontSize 26

package "nl.openweb.projector.core.clj" #White{
    component "user-query-handler" as uch #Yellow
    component "user-event-handler" as ueh #Yellow
    component "bank-query-handler" as bch #Yellow
    component "bank-event-handler" as beh #Yellow
}
package "nl.openweb.projector.db.clj" #White{
    database "bank-accounts" as badb #LightBlue
    database "users" #LightBlue
}
component Kafka as kc #F26724

uch - -> users :check status
ueh - -> users :add/update projection
bch - -> badb :check status
beh - -> badb :add/update projection
kc - -> ueh :routes events
kc - -> beh :routes events
beh - -> kc :transactions
kc - -> uch :routes queries
kc - -> bch :routes queries
kc <- - uch :feedback
kc <- - bch :feedback


@enduml

PlantUML version 1.2021.01(Tue Feb 02 08:55:08 CET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: NL
--></g></svg>